<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../layui/css/layui.css" media="all">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        window.onload = function () {
            $.ajax({
                url: "/selectOneAttendance",
                method: "post",
                data: {
                    emplid: getUsername()
                },
                success: function (d) {
                    console.log(d);
                    var tbody = document.getElementById("body");
                    for (var i = 0; i < d.length; i++) {
                        var tr = document.createElement("tr");
                        if(i%2==0) tr.style.backgroundColor="#DCDCDC";
                        tr1 = document.createElement("td");
                        tr1.innerHTML = d[i].id;
                        tr2 = document.createElement("td");
                        tr2.innerHTML = d[i].emplId;
                        tr3 = document.createElement("td");
                        tr3.innerHTML = d[i].emplName;
                        tr4 = document.createElement("td");
                        tr4.innerHTML = d[i].late;
                        tr5 = document.createElement("td");
                        tr5.innerHTML = d[i].leave;
                        tr6 = document.createElement("td");
                        tr6.innerHTML = d[i].absenteeism;
                        tr7 = document.createElement("td");
                        tr7.innerHTML = d[i].askforLeave;
                        tr8 = document.createElement("td");
                        tr8.innerHTML = d[i].time;
                        tr.appendChild(tr1);
                        tr.appendChild(tr2);
                        tr.appendChild(tr3);
                        tr.appendChild(tr4);
                        tr.appendChild(tr5);
                        tr.appendChild(tr6);
                        tr.appendChild(tr7);
                        tr.appendChild(tr8);
                        tbody.appendChild(tr);
                    }
                }
            })
        }

        function getUsername() {
            var cookies = document.cookie.split(";");
            for (var i = 0, l = cookies.length; i < l; i++) {
                cookie = cookies[i];
                if (cookie.split("=")[0] == "username")
                    return cookie.split("=")[1];
            }
            return null;
        }


    </script>

</head>
<body>
<div class="layui-form">
    <table class="layui-table">
        <colgroup>
            <col width="150">
            <col width="150">
            <col width="200">
            <col>
        </colgroup>
        <thead>
        <tr style="background-color: lightyellow">
            <th style="width: 20px">流水号</th>
            <th>员工号</th>
            <th>姓名</th>
            <th>迟到</th>
            <th>早退</th>
            <th>旷工</th>
            <th>请假</th>
            <th>考勤时间</th>
        </tr>
        </thead>
        <tbody id="body">

        </tbody>
    </table>
</div>


<script src="../layui/layui.js" charset="utf-8"></script>
<script>

</script>

</body>
</html>